/*   LARGE SCREENS  > 1400px   */
@media (min-width: 1400px) {
  /* Constrain content width on very large screens */
  #about {
    max-width: 1000px;
  }

  .about-wrapper {
    max-width: 950px;
  }

  .teletext-container {
    max-width: 1200px;
  }

  .contact-grid {
    max-width: 1300px;
    gap: 3.5rem;
  }

  /* Larger typography for big screens */
  #intro h1 {
    font-size: clamp(3rem, 7vw, 5rem);
  }

  #intro h2 {
    font-size: clamp(1.3rem, 3vw, 2rem);
  }

  /* Tech stack can show more items per row */
  .tech-stack-chips {
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem;
  }
}

/*   DESKTOP / LAPTOP  992px - 1400px    */
@media (max-width: 1200px) {
  .teletext-container {
    max-width: 950px;
  }
}

/*    TABLETS  768px - 992px     */
@media (max-width: 992px) {
  /* Contact grid 2 columns */
  .contact-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
  }

  /* Intro section adjustments */
  #intro {
    margin-top: 20vh;
    padding-left: 1.5rem;
  }
}

/*    TELETEXT MEDIUM   < 800px      */
@media (max-width: 800px) {
  .teletext-container {
    max-width: 95%;
    height: auto;
    min-height: 500px;
  }

  .teletext-preview-frame {
    height: 280px;
  }

  /* Modal adjustments */
  .modal-content {
    padding: 2rem;
    max-width: 90%;
  }

  .shortcuts-grid {
    gap: 1rem;
  }

  .shortcut-item {
    padding: 0.75rem;
  }
}

/*    LARGE PHONES / SMALL TABLETS   < 768px     */
@media (max-width: 768px) {
  /* Tech stack responsive */
  .tech-stack-chips {
    grid-template-columns: repeat(3, 1fr);
    gap: 1.2rem;
  }

  /* Header navigation */
  header {
    padding: 0.5rem 0.75rem;
  }

  nav {
    gap: 0.5rem;
  }

  nav button {
    font-size: 0.85rem;
    padding: 0.4rem 0.5rem;
  }

  /* Intro section */
  #intro {
    margin-top: 18vh;
    padding-left: 1.25rem;
    padding-right: 1rem;
  }

  #intro h1 {
    font-size: clamp(2rem, 8vw, 3rem);
  }

  #intro h2 {
    font-size: clamp(0.9rem, 3vw, 1.3rem);
  }
}

/*    FOOTER AND LAYOUT  < 700px    */
@media (max-width: 700px) {
  footer {
    max-width: 90%;
    padding: 0.6rem 1.5rem;
    bottom: 1.2rem;
  }

  .channel-nav {
    gap: 1.5rem;
  }

  .channel-nav button {
    font-size: 0.85rem;
    padding: 0.5rem 1.8rem;
    min-height: var(--touch-target-min);
  }

  .home-link {
    font-size: 0.85rem;
  }

  .header-right {
    gap: 0.5rem;
  }

  #ui-layer {
    padding: 1.5rem;
  }

  /* Header navigation */
  nav button {
    font-size: 0.8rem;
    padding: 0.3rem 0.4rem;
  }

  /* Ensure touch targets */
  .keyboard-hint-btn,
  .sound-toggle-btn {
    min-width: var(--touch-target-min);
    min-height: var(--touch-target-min);
  }

  /* Hide date on medium-small screens */
  #current-date {
    display: none;
  }

  #date-display {
    gap: 0.5rem;
  }
}

/*    TELETEXT SMALL   < 650px     */
@media (max-width: 650px) {
  .teletext-container {
    width: calc(100% - 1rem);
    margin: 0.5rem auto;
    height: auto;
    min-height: 400px;
  }

  .teletext-columns {
    grid-template-columns: 1fr;
    gap: 0.6rem;
  }

  .teletext-preview-frame {
    height: 220px;
    max-width: 320px;
    margin: 0 auto;
  }

  .teletext-title {
    font-size: 0.7rem;
    letter-spacing: 1px;
  }

  .teletext-lightbox-close {
    top: 5rem;
    right: 0.5rem;
    font-size: 0.8rem;
    padding: 0.5rem 1rem;
    min-height: var(--touch-target-min);
  }

  /* Modal close button - position below header */
  .modal-close {
    top: 0.25rem;
    right: 0.25rem;
    width: 40px;
    height: 40px;
    font-size: 1.25rem;
  }

  .teletext-header {
    font-size: 0.75rem;
    padding: 0.4rem 0.6rem;
  }

  .teletext-service,
  .teletext-page {
    font-size: 0.65rem;
  }

  .teletext-subheader {
    font-size: 0.6rem;
    padding: 0.2rem 0.6rem;
  }

  .teletext-content {
    padding: 0.5rem 0.6rem;
  }

  .teletext-desc {
    font-size: 0.7rem;
  }

  .teletext-nav-hint {
    font-size: 0.65rem;
  }

  /* Lightbox touch-friendly navigation */
  .teletext-lightbox-nav button {
    padding: 0.6rem 1rem;
    min-height: var(--touch-target-min);
    font-size: 0.85rem;
  }

  .teletext-nav-btn {
    min-height: var(--touch-target-min);
    padding: 0.5rem 1rem;
  }
}

/*    ABOUT SECTION  < 600px     */
@media (max-width: 600px) {
  .about-wrapper {
    padding: 0;
    font-size: 0.95rem;
    margin-top: 2rem;
  }

  .about-header {
    padding: 1.5rem 1rem;
  }

  #about h1 {
    font-size: 1.8rem;
  }

  .status-indicator {
    font-size: 0.75rem;
    padding: 0.4rem 0.8rem;
  }

  .bio-section,
  .skills-section {
    padding: 1.5rem;
  }

  .section-title {
    font-size: 1.2rem;
    margin-bottom: 2rem;
  }

  #typewriter-line {
    font-size: 0.8rem;
    margin-top: 2rem;
    white-space: pre-wrap;
    overflow-wrap: break-word;
    max-width: calc(100% - 2rem);
    padding: 0 1rem 1.5rem;
  }

  .ascii-signature {
    font-size: 0.55rem;
    margin-top: 2rem;
  }

  /* Modal adjustments */
  .modal-content {
    padding: 1.5rem;
    width: 95%;
  }

  .modal-content h2 {
    font-size: 1.1rem;
    margin-bottom: 1.5rem;
  }

  .shortcut-item {
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .shortcut-item kbd {
    font-size: 0.8rem;
    padding: 0.3rem 0.6rem;
  }

  .shortcut-item span {
    font-size: 0.85rem;
    width: 100%;
    margin-top: 0.25rem;
  }
}

/*     MOBILE  < 550px     */
@media (max-width: 550px) {
  /* Header mobile layout - stack nav below */
  header {
    flex-wrap: wrap;
    padding: 0.5rem 0.75rem;
    gap: 0.5rem;
  }

  /* Nav takes full width on second row */
  nav {
    order: 2;
    width: 100%;
    justify-content: center;
    gap: 0.25rem;
    padding-top: 0.5rem;
    border-top: 1px solid rgba(102, 204, 255, 0.2);
  }

  nav button {
    font-size: 0.75rem;
    padding: 0.5rem 0.6rem;
    min-height: 36px;
  }

  /* Header right stays on first row */
  .header-right {
    order: 1;
    gap: 0.5rem;
  }

  /* Keep home link visible, hide separator slash */
  #date-display {
    gap: 0;
  }

  #date-display::after {
    display: none;
  }

  .home-link {
    font-size: 0.8rem;
  }

  /* Smaller icon buttons */
  .keyboard-hint-btn,
  .sound-toggle-btn {
    width: 32px;
    height: 32px;
    min-width: 32px;
    min-height: 32px;
    font-size: 0.85rem;
  }

  /* Contact grid single column */
  .contact-grid {
    grid-template-columns: 1fr;
    padding: 0 1rem;
    gap: 1.5rem;
  }

  .contact-card {
    padding: 1.25rem;
    font-size: 0.9rem;
    min-height: var(--touch-target-min);
  }

  .contact-card svg.icon {
    width: 32px;
    height: 32px;
  }

  /* Easter egg buttons stack */
  .easter-egg-buttons {
    flex-direction: column;
    gap: 0.75rem;
    padding: 0 1rem;
  }

  .easter-egg-buttons button {
    width: 100%;
    padding: 1rem 1.5rem;
    min-height: var(--touch-target-min);
  }

  /* Contact console */
  .contact-console {
    flex-direction: row;
    flex-wrap: nowrap;
    align-items: center;
    font-size: 0.8rem;
    margin: 1.5rem 1rem;
    padding: 1rem;
    gap: 0.5rem;
    width: calc(100% - 2rem);
    max-width: none;
  }

  .contact-console .prompt {
    flex-shrink: 0;
  }

  .contact-console input {
    flex: 1;
    min-width: 0;
    font-size: 0.9rem;
    min-height: var(--touch-target-min);
  }

  .console-submit-btn {
    flex-shrink: 0;
    min-width: 48px;
    min-height: 48px;
  }

  .console-submit-btn svg {
    width: 22px;
    height: 22px;
  }

  /* Terminal */
  .terminal-line {
    font-size: 0.8rem;
    padding: 0.75rem 0;
  }

  .terminal-output {
    max-width: none;
    width: calc(100% - 2rem);
    margin: 1rem 1rem 0;
    padding: 0.75rem;
  }

  /* UI layer */
  #ui-layer {
    padding: 1rem;
  }

  /* Tech stack 2 columns */
  .tech-stack-chips {
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }

  .chip {
    max-width: none;
    padding: 1rem 0.75rem;
  }

  /* Intro adjustments */
  #intro {
    margin-top: 15vh;
    padding-left: 1rem;
    padding-right: 1rem;
  }

  #intro h1 {
    font-size: clamp(1.8rem, 10vw, 2.5rem);
  }

  #intro h2 {
    font-size: clamp(0.8rem, 3.5vw, 1.1rem);
  }

  /* Footer mobile */
  footer {
    max-width: 95%;
    padding: 0.5rem 1rem;
  }

  .channel-nav {
    gap: 1rem;
  }

  .channel-nav button {
    font-size: 0.75rem;
    padding: 0.5rem 1.2rem;
  }

  #channel-label {
    font-size: 0.65rem;
  }
}

/*    SMALL PHONES  < 400px     */
@media (max-width: 400px) {
  /* Header more compact */
  header {
    padding: 0.4rem 0.5rem;
    gap: 0.4rem;
  }

  /* Nav even more compact */
  nav {
    gap: 0.15rem;
    padding-top: 0.4rem;
  }

  nav button {
    font-size: 0.65rem;
    padding: 0.4rem;
    min-height: 32px;
  }

  /* Header right compact */
  .header-right {
    width: auto;
    flex: 1;
    justify-content: flex-end;
    gap: 0.25rem;
  }

  #date-display {
    font-size: 0.7rem;
  }

  .home-link {
    font-size: 0.7rem;
  }

  /* Even smaller icon buttons */
  .keyboard-hint-btn,
  .sound-toggle-btn {
    width: 28px;
    height: 28px;
    min-width: 28px;
    min-height: 28px;
    font-size: 0.75rem;
  }

  .sound-toggle-btn svg {
    width: 14px;
    height: 14px;
  }

  /* Intro very small */
  #intro {
    margin-top: 12vh;
    padding: 0.75rem;
  }

  #intro h1 {
    font-size: clamp(1.5rem, 12vw, 2rem);
    margin-bottom: 1rem;
  }

  #intro h2 {
    font-size: clamp(0.65rem, 4vw, 0.9rem);
  }

  /* About section compact */
  #about {
    padding: 2rem 1rem;
  }

  .about-header {
    padding: 1rem 0.75rem;
  }

  #about h1 {
    font-size: 1.5rem;
  }

  .bio-section,
  .skills-section {
    padding: 1rem;
  }

  #about p {
    font-size: 0.95rem;
  }

  .section-title {
    font-size: 1rem;
    margin-bottom: 1.5rem;
  }

  /* Tech stack single column on very small */
  .tech-stack-chips {
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
  }

  .chip {
    padding: 0.75rem 0.5rem;
    font-size: 0.75rem;
  }

  .chip-icon {
    width: 24px;
    height: 24px;
  }

  /* Contact compact */
  .contact-card {
    padding: 1rem;
  }

  .contact-link span {
    font-size: 0.85rem;
  }

  /* Footer very compact */
  footer {
    padding: 0.4rem 0.75rem;
    bottom: 0.75rem;
  }

  .channel-nav {
    gap: 0.5rem;
  }

  .channel-nav button {
    font-size: 0.65rem;
    padding: 0.4rem 0.8rem;
  }

  /* Teletext very small */
  .teletext-container {
    width: calc(100% - 0.5rem);
    min-height: 350px;
  }

  .teletext-preview-frame {
    height: 180px;
    max-width: 280px;
  }

  .teletext-title {
    font-size: 0.6rem;
  }

  .teletext-desc {
    font-size: 0.65rem;
  }

  .teletext-links {
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  /* Fullscreen navigation compact */
  .fullscreen-arrow {
    width: 36px;
    height: 36px;
    font-size: 1.2rem;
  }

  .fullscreen-nav {
    padding: 0.5rem 1rem;
  }

  .close-fullscreen {
    top: 1rem;
    right: 1rem;
    padding: 0.5rem 0.75rem;
    font-size: 0.8rem;
  }
}

/*    LANDSCAPE ORIENTATION  phones     */
@media (max-height: 500px) and (orientation: landscape) {
  /* Reduce vertical spacing */
  #intro {
    margin-top: 5vh;
    padding-top: 0;
  }

  #intro h1 {
    font-size: clamp(1.5rem, 5vh, 2.5rem);
    margin-bottom: 0.5rem;
  }

  #intro h2 {
    font-size: clamp(0.7rem, 2.5vh, 1rem);
  }

  /* Footer more compact in landscape */
  footer {
    bottom: 0.5rem;
    padding: 0.4rem 1rem;
  }

  .channel-nav button {
    padding: 0.3rem 1rem;
  }

  /* About section landscape */
  #about {
    padding: 1.5rem 2rem;
    min-height: auto;
  }

  .about-wrapper {
    margin-top: 1rem;
  }

  .about-header {
    padding: 1rem;
    margin-bottom: 1.5rem;
  }

  /* Teletext landscape */
  .teletext-container {
    height: 85vh;
    min-height: 300px;
  }

  .teletext-columns {
    grid-template-columns: 1fr 1fr;
  }

  .teletext-preview-frame {
    height: 40vh;
    max-height: 200px;
  }

  /* Modal landscape */
  .modal-content {
    max-height: 90vh;
    overflow-y: auto;
  }

  .shortcuts-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
  }

  /* Lightbox landscape */
  .teletext-lightbox-content img {
    max-height: 60vh;
  }

  .teletext-lightbox-nav {
    margin-top: 0.5rem;
  }
}

/*    HIGH DPI / RETINA DISPLAYS    */
@media (min-resolution: 192dpi) {
  /* Sharper text shadows for high DPI */
  .crt-text {
    text-shadow:
      0 0 1px #fefefe,
      0 0 2px #00ffcc;
  }
}

/*     REDUCED MOTION - accessibility     */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .fade-in {
    opacity: 1;
    transform: none;
  }

  .teletext-lightbox {
    transition: none;
  }

  .channel-screen {
    transition: none;
  }

  /* Keep essential visual indicators */
  .status-dot {
    animation: none;
    opacity: 1;
  }
}

/*     PRINT STYLES     */
@media print {
  /* Hide interactive elements */
  footer,
  header,
  .easter-egg-buttons,
  .contact-console,
  .keyboard-hint-btn,
  .sound-toggle-btn,
  .skip-link,
  #tv-screen,
  #tv-overlay,
  #vhs-overlay,
  #channel-indicator,
  #loading-indicator {
    display: none !important;
  }

  /* Reset backgrounds */
  body {
    background: #fff;
    color: #000;
  }

  /* Section visibility and page breaks */
  .channel-screen {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
    break-after: page;
  }

  /* Make content readable */
  .crt-text,
  .teletext-title,
  .teletext-desc,
  h1,
  h2,
  p {
    color: #000 !important;
    text-shadow: none !important;
  }
}
